{% form_theme formregistration _self %}

<div class="container my-1 my-lg-1 px-lg-2 mt-lg-3">
    <div class="row mx-lg-2">
        <div id="contentFormRegistration" class="col py-2 px-lg-1">
            <div id="form-registration">
                {{ form_start(formregistration) }}
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="card bg-light mb-3">
                                <div class="card-header font-weight-bold">Авторизационные данные</div>
                                <div class="card-body">
                                    <div class="form-group col text-dark">
{#                                        <legend>{{'user.username'|trans({},'forms')|raw}}</legend>#}
                                        <div>{{ form_label(formregistration.username) }}</div>
                                        {{ form_widget(formregistration.username) }}
                                        <small>{{ form_help(formregistration.username) }}</small>
{#                                        {{ form_errors(formregistration.username) }}#}
                                    </div>
                                    <div class="form-group col text-dark">
                                        {{ form_label(formregistration.email) }}
                                        {{ form_widget(formregistration.email) }}
                                        <small>{{ form_help(formregistration.email) }}</small>
                                    </div>
                                    <div class="form-group col text-dark">
                                        {{ form_widget(formregistration.plainPassword) }}
                                        <small>{{ form_help(formregistration.plainPassword) }}</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="card bg-light mb-3">
                                <div class="card-header font-weight-bold">Фамилия, имя, отчество на русском языке</div>
                                <div class="card-body">
                                    <div class="form-group col text-dark">
                                        {{ form_label(formregistration.lastname) }}
                                        {{ form_widget(formregistration.lastname) }}
                                        <small>{{ form_help(formregistration.lastname) }}</small>
                                    </div>
                                    <div class="form-group col text-dark">
                                        {{ form_label(formregistration.firstname) }}
                                        {{ form_widget(formregistration.firstname) }}
                                        <small>{{ form_help(formregistration.firstname) }}</small>
                                    </div>
                                    <div class="form-group col text-dark">
                                        {{ form_label(formregistration.patronymic) }}
                                        {{ form_widget(formregistration.patronymic) }}
                                        <small>{{ form_help(formregistration.patronymic) }}</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="card bg-light mb-3">
                                <div class="card-header font-weight-bold">Категория пользователя</div>
                                <div class="card-body">
                                    <div class="form-group col text-dark">
                                        <p class="mb-1">{{'user.kind'|trans({},'forms')|raw}}</p>
                                        {{ form_widget(formregistration.userkind) }}
                                        <small>{{ form_help(formregistration.userkind) }}</small>
                                    </div>
                                    <div class="form-group col text-dark">
                                        <p class="mb-1">{{'user.roles'|trans({},'forms')|raw}}</p>
                                        {{ form_widget(formregistration.roles, {'attr': {'class': 'custom-control custom-radio'}}) }}
                                        <small>{{ form_help(formregistration.roles) }}</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="card bg-light mb-3">
                                <div class="card-header font-weight-bold">Информация о пользователе</div>
                                <div class="card-body">
                                    {# ############################################################ #}
                                    {# Блок информации о пользователе типа "Сотрудник университета" #}
                                    <div id="colleague-department" class="form-group col text-dark {{ formregistration.userkind.vars.value == '2' ? 'invisible' }} ">
                                        {{ form_label(formregistration.department) }}
                                        {{ form_widget(formregistration.department) }}
                                        <small>{{ form_help(formregistration.department) }}</small>
                                    </div>
                                    <div id="colleague-position"  class="form-group col text-dark {{ formregistration.userkind.vars.value == '2' ? 'invisible' }} ">
                                        {{ form_label(formregistration.positions) }}
                                        {{ form_widget(formregistration.positions) }}
                                        <small>{{ form_help(formregistration.positions) }}</small>
                                    </div>
                                    {# ############################################################ #}

                                    {# ############################################################ #}
                                    {# Блок информации о пользователе типа "Студент университета"   #}
                                    <div id="student-faculty" class="form-group col text-dark {{ formregistration.userkind.vars.value == '3' ? 'invisible' }} ">
                                        {{ form_label(formregistration.faculty) }}
                                        {{ form_widget(formregistration.faculty) }}
                                        <small>{{ form_help(formregistration.faculty) }}</small>
                                    </div>
                                    <div id="student-speciality" class="form-group col text-dark {{ formregistration.userkind.vars.value == '3' ? 'invisible' }} ">
                                        {{ form_label(formregistration.speciality) }}
                                        {{ form_widget(formregistration.speciality) }}
                                        <small>{{ form_help(formregistration.speciality) }}</small>
                                    </div>
                                    <div id="student-group" class="form-group col text-dark {{ formregistration.userkind.vars.value == '3' ? 'invisible' }} ">
                                        {{ form_label(formregistration.group) }}
                                        {{ form_widget(formregistration.group) }}
                                        <small>{{ form_help(formregistration.group) }}</small>
                                    </div>
                                    {# ############################################################ #}
                                    <div class="form-group col text-dark">
                                        {{ form_label(formregistration.dateStart) }}
                                        {{ form_widget(formregistration.dateStart) }}
                                        <small>{{ form_help(formregistration.dateStart) }}</small>
                                    </div>
                                    <div class="form-group col text-dark">
                                        <p class="mb-1">{{'user.interests'|trans({},'forms')|raw}}</p>
                                        {{ form_widget(formregistration.interests, {'attr': {'class': 'custom-control custom-checkbox'}}) }}
                                        <small>{{ form_help(formregistration.interests) }}</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <div>
                                <p class="text-muted mt-1 mb-1">
                                    {{'user.download-contract'|trans({},'forms')|raw}}
                                    <a href="" class="text-primary">скачать</a>/<a href="" class="text-primary">посмотреть</a>
                                </p>
                                <p class="text-muted mt-1 mb-1">{{'user.agreement'|trans({},'forms')|raw}}</p>
                            </div>
                            <div class="form-group mx-3">
                                {{ form_row(formregistration.termsAccepted)}}
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            {% if captchaError %}
                                <span class="invalid-feedback d-block">
                                    <span class="form-error-icon badge badge-danger text-uppercase">{{'error.icon'|trans({},'forms')|raw}}</span>
                                    <span class="form-error-message">{{ captchaError }}</span>
                                </span>
                            {% endif %}
                            <div class="g-recaptcha form-group" data-sitekey="{{ captchaKey }}"></div>
                            <div class="text-danger" id="recaptchaError"></div>
                        </div>
                    </div>
                {{ form_end(formregistration) }}
            </div>
        </div>
    </div>
</div>